(this["webpackJsonpcrushing-app-frontend"]=this["webpackJsonpcrushing-app-frontend"]||[]).push([[0],{117:function(e,t,a){e.exports=a(150)},147:function(e,t,a){},150:function(e,t,a){"use strict";a.r(t);var n=a(28),r=a(0),o=a.n(r),s=a(11),i=a(16),c=a(47),l=a(84),m=a(2),u=a.n(m);class d extends r.Component{constructor(){super(),this.state={}}componentDidMount(){this.setState({user:this.props.user})}getChildContext(){const e=this.props;return{user:e.user,authorize:e.authorize}}render(){return this.props.children}}d.childContextTypes={authorize:u.a.func,user:u.a.object};const p=Object(i.connect)((function(e){return{user:e.user}}))(d);var h=a(12),g=a(29),E=a.n(g);const f={success:function({uid:e,message:t}){return b.uid=e||v(),b.title="Success",b.message=t,e=>{e(E.a.success(b))}},error:function({uid:e,message:t}){return b.uid=e||v(),b.title="Error",b.message=t,e=>{e(E.a.error(b))}},warning:function({uid:e,message:t}){return b.uid=e||v(),b.title="Warning",b.message=t,e=>{e(E.a.warning(b))}},info:function({uid:e,message:t}){return b.uid=e||v(),b.title="Info",b.message=t,e=>{e(E.a.info(b))}},hide:function(e){return t=>{t(E.a.hide(e))}},clear:function(){return e=>{e(E.a.removeAll())}}},b={title:"",message:"",position:"tr",autoDismiss:""};function v(){return Math.random().toString(36).substring(2)}var w=a(42),S=a.n(w),O=a(52),C=a(85),x=a.n(C),_=a(18);const y="USER_SIGNIN_SUCCESS",N="USER_SIGNIN_FAILURE",T="USER_SIGNOUT_SUCCESS",k="LOGGED_USER";var j=a(22);const A=Object(j.a)(),P={getHeader:function(){const e=R();return e&&e.token?{"Content-Type":"application/json",Authorization:"Bearer ".concat(e.token)}:{}},isLogin:function(){const e=R();return e&&e.token&&e.exp>Math.floor((new Date).getTime()/1e3)},getLoggedUser:R};function R(){return JSON.parse(localStorage.getItem(k))}const I=[200,201,204],D=[401,403,404,412,500,501],B={Accept:"application/json","Content-Type":"application/json"};class U{static setup({protocol:e="http",hostname:t="",port:a=0,headers:n={}}){this._protocol=e,this._hostname=t,this._port=a,this._headers=Object.assign({},n,B)}static request({url:e=null,method:t="POST",headers:a={},path:n="",body:r={}}){var o=this;return Object(O.a)(S.a.mark((function s(){var i,c,l,m,u;return S.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return i={method:t,mode:"cors",headers:Object.assign({},o._headers,a)},"object"===typeof r&&0!==Object.keys(r).length&&(i.body=JSON.stringify(r)),c=e?"".concat(e).concat(n):"".concat(o._protocol,"://").concat(o._hostname,":").concat(o._port).concat(n),s.next=5,fetch(c,i);case 5:return l=s.sent,s.prev=6,s.next=9,l.json();case 9:m=s.sent,s.next=15;break;case 12:s.prev=12,s.t0=s.catch(6),m=[];case 15:if(!I.includes(l.status)){s.next=19;break}return s.abrupt("return",Promise.resolve({status:l.status,data:m}));case 19:if(!D.includes(l.status)){s.next=25;break}return(u=new Error(m.message||"Internal Server Error")).status=l.status,s.abrupt("return",Promise.reject(u));case 25:throw new Error("Network response was not ok");case 26:case"end":return s.stop()}}),s,null,[[6,12]])})))()}}const F={restapiAuth:{server:{protocol:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_REST_API_PROTOCOL||window.location.protocol.split(":")[0],hostname:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_REST_API_BASE_PATH||window.location.hostname,port:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_REST_API_AUTH_PORT},routes:{signup:"/signup",signin:"/signin"}},apiGateway:{server:{protocol:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_REST_API_PROTOCOL||window.location.protocol.split(":")[0],hostname:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_REST_API_HOSTNAME||window.location.hostname,port:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_REST_API_PORT}}},z={signup:function(e){const t={url:"".concat(W,"://").concat(M,":").concat(K,"/signup"),method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:e};return U.request(t)},signin:function(e,t){const a={url:"".concat(W,"://").concat(M,":").concat(K,"/auth-signin"),method:"POST",body:{username:e,password:t},headers:{"Content-Type":"application/json"}};return U.request(a)}},L=F.restapiAuth.server,W=L.protocol,M=L.hostname,K=L.port;const H={signup:function(e){return function(){var t=Object(O.a)(S.a.mark((function t(a){var n;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,z.signup(e);case 3:if(!(n=t.sent)||201!==n.result){t.next=8;break}a(Object(_.d)("/signin")),t.next=9;break;case 8:throw new Error(n.message||"Internal Server Error");case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),a(f.error({message:t.t0.message}));case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()},signin:function(e,t){return function(){var r=Object(O.a)(S.a.mark((function r(o){return S.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",z.signin(e,t).then(e=>{if(e&&e.data&&e.data.token){const t=x()(e.data.token),n=t.username,r=t.exp,s=t.role,i={username:n,exp:r,role:void 0===s?"user":s,token:e.data.token};return localStorage.setItem(k,JSON.stringify(i)),o(a(i)),void o(Object(_.d)("/dashboard"))}throw new Error(e.message||"Internal Server Error")},e=>{console.log(e),o(n(e.message)),o(f.error({message:e.message}))}));case 1:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}();function a(e){return{type:y,user:e}}function n(e){return{type:N,error:e}}},signout:function(){return e=>{try{localStorage.clear(),e({type:T}),e(Object(_.d)("/signin"))}catch(t){console.debug("[USER_ACTION] fn=signout, err=".concat(t))}}}};var G=a(55);var q=a(209),V=a(211),J=a(189),X=a(185),Q=a(210),Y=a(188),$=a(183),Z=a(86),ee=a.n(Z);const te=Object($.a)(e=>({textInput:{margin:8,width:"90%",height:"48px",backgroundColor:"#FFFFFF"},submitButton:{margin:8,width:"90%",background:"#2BB38B 0% 0% no-repeat padding-box",boxShadow:"0px 5px 5px #0000001F",borderRadius:"30px",height:"48px",fontFamily:"Roboto",fontSize:"16px",fontWeight:500,letterSpacing:"0.16px",color:"#FFFFFF",opacity:1},userOptions:{width:"90%",justifyContent:"space-between",alignItems:"center",marginTop:"8px"},checkBox:{color:"#2BB38B"},forgotPassword:{color:"#2BB38B",fontFamily:"Roboto",fontWeight:400},rightContent:{backgroundImage:"url(".concat(ee.a,")"),height:"769px",backgroundRepeat:"repeat-x",backgroundSize:"contain"},alignCenter:{alignSelf:"center"},laptopTitle:{fontSize:"2.8rem",color:"#FFFFFF",width:"50%",margin:"0 auto",fontFamily:"Roboto",fontWeight:"600",textAlign:"center"},laptopText:{fontSize:"1.5rem",color:"#FFFFFF",width:"80%",margin:"10px auto",fontFamily:"Roboto",textAlign:"center"},direction:{display:"flex",flexDirection:"column"},laptopWidth:{width:"75%",margin:"0 auto"}}));var ae=e=>{const t=te(),a=e.userNameError,n=e.username,r=e.passwordError,s=e.password;return o.a.createElement("form",{onSubmit:e.handleSubmit,noValidate:!0,autoComplete:"off",style:{display:"flex",width:"100%",textAlign:"center",marginTop:"20px",flexDirection:"column"}},o.a.createElement(X.a,{row:!0},o.a.createElement(Q.a,{className:t.textInput,placeholder:"Username",error:a,id:"user-name",label:"Username",name:"username",type:"text",variant:"outlined",value:n,onChange:e.handleChange,required:!0})),o.a.createElement(X.a,{row:!0},o.a.createElement(Q.a,{className:t.textInput,placeholder:"Password",error:r,id:"outlined-password-input",label:"Password",name:"password",type:"password",variant:"outlined",value:s,onChange:e.handleChange,required:!0})),o.a.createElement(X.a,{row:!0},o.a.createElement(Y.a,{className:t.submitButton,type:"submit",variant:"contained"},"Sign In")))},ne=a(66),re=a(90),oe=a.n(re);var se=()=>{const e=te();return o.a.createElement(J.a,{item:!0,className:e.rightContent,xs:12,sm:7,container:!0,direction:"column",justify:"center",alignItems:"center"},o.a.createElement("div",{className:e.direction},o.a.createElement(ne.a,{component:"h1",className:e.laptopTitle},"Smart eyes for your business"),o.a.createElement(ne.a,{component:"p",className:e.laptopText},"Build your AI Video Analytics Solution with a visual editor. Transform your cameras into a Smart Video Solution.")),o.a.createElement("div",{className:e.direction},o.a.createElement("img",{src:oe.a,alt:"laptop computer",className:e.laptopWidth})))},ie=a(91),ce=a.n(ie);const le={username:"",password:""};class me extends r.Component{constructor(e,t){super(e,t),this.handleChange=e=>{this.setState({[e.target.name]:e.target.value});(0,this.props.dispatch)(f.clear())},this.handleCheckBoxChange=()=>{this.setState({checked:!this.state.checked})},this.handleRedirect=()=>{console.log("should redirect")},this.handleSubmit=e=>{e.preventDefault();const t=this.props.dispatch,a=this.state,n=a.username,r=a.password;return 0===this.state.username.length?(t(f.error({message:"Invalid Username"})),void this.setState({userNameError:!0})):(this.setState({userNameError:!1}),0===this.state.password.length?(t(f.error({message:"Wrong Password"})),void this.setState({passwordError:!0})):(this.setState({passwordError:!1}),t(H.signin(n,r)).then(()=>{}).catch(e=>{console.log(e)}),void this.setState(le)))},this.state=Object(n.a)(Object(n.a)({},this.props),{},{passwordError:!1,userNameError:!1,checked:!1})}componentDidMount(){this.props.dispatch(f.clear())}render(){return this.mqtt.unsubscribe("#"),o.a.createElement(J.a,{container:!0,direction:"row",justify:"center"},o.a.createElement(J.a,{item:!0,container:!0,xs:12,sm:5,direction:"row",justify:"center",alignItems:"center"},o.a.createElement("div",{style:{width:"100%"}},o.a.createElement("div",{style:{width:"80%",textAlign:"center",margin:"0 auto"}},o.a.createElement("img",{src:ce.a,alt:"smart video logo"})),o.a.createElement("div",{style:{width:"80%",textAlign:"center",margin:"0 auto"}},o.a.createElement(ae,{checked:this.state.checked,userNameError:this.state.userNameError,username:this.state.username,passwordError:this.state.passwordError,password:this.state.password,handleSubmit:this.handleSubmit,handleChange:this.handleChange,handleCheckBoxChange:this.handleCheckBoxChange,handleRedirect:this.handleRedirect})))),o.a.createElement(se,null))}}me.defaultProps=Object(n.a)({},le);const ue=Object(i.connect)()(me);var de=a(20),pe=a(190),he=a(191),ge=a(192),Ee=a(193),fe=a(194),be=a(195),ve=a(196),we=a(197),Se=a(198),Oe=a(199),Ce=a(200),xe=a(201),_e=a(92),ye=a.n(_e);const Ne={username:"",password:"",repeatPassword:"",email:"",name:"",lastname:""};class Te extends r.Component{constructor(e,t){super(e,t),this.state=Ne,this.handleChange=this.handleChange.bind(this),this.handleSubmit=this.handleSubmit.bind(this)}componentDidMount(){this.usernameInput.focus()}handleChange(e){this.setState({[e.target.name]:e.target.value})}handleSubmit(e){e.preventDefault();const t=this.props.dispatch;return this.state.username.length<1?(t(f.error({message:"Missing required parameters: User name"})),void this.usernameInput.focus()):this.state.password.length<1?(t(f.error({message:"Missing required parameters: Password"})),void this.passwordInput.focus()):this.state.repeatPassword.length<1?(t(f.error({message:"Missing required parameters: Repeat Password"})),void this.repeatPasswordInput.focus()):this.state.email.length<1?(t(f.error({message:"Missing required parameters: Email"})),void this.emailInput.focus()):this.state.name.length<1?(t(f.error({message:"Missing required parameters: Name"})),void this.nameInput.focus()):this.state.lastname.length<1?(t(f.error({message:"Missing required parameters: Last Name"})),void this.lastnameInput.focus()):(t(H.signup(Object(n.a)({},this.state))),void this.setState(Ne))}render(){return o.a.createElement(pe.a,{fluid:!0,className:"bg-login"},o.a.createElement(he.a,null,o.a.createElement(ge.a,{className:"mt-5 card-login",sm:"12",md:{size:6,offset:3},lg:{size:4,offset:4}},o.a.createElement(Ee.a,{body:!0,inverse:!0,color:"primary",className:"no-radius"},o.a.createElement(fe.a,null,"CREATE A NEW USER"),o.a.createElement(be.a,null,"You can use your Email or a Username to access the system"),o.a.createElement("div",{className:"icon-register"},o.a.createElement("i",{className:"material-icons"},"how_to_reg"))),o.a.createElement(Ee.a,{className:"no-radius"},o.a.createElement(ve.a,null,o.a.createElement(fe.a,null,"Register form"),o.a.createElement("div",{className:"icon-intel-register"},o.a.createElement("img",{className:"mt-4",width:"60",src:ye.a,alt:""})),o.a.createElement(we.a,{onSubmit:this.handleSubmit},o.a.createElement(Se.a,null,o.a.createElement(Oe.a,{for:"userName"},"Username"),o.a.createElement(Ce.a,{type:"text",name:"username",id:"userName",innerRef:e=>{this.usernameInput=e},value:this.state.username,onChange:this.handleChange})),o.a.createElement(he.a,null,o.a.createElement(ge.a,{sm:"12",md:"6"},o.a.createElement(Se.a,null,o.a.createElement(Oe.a,{for:"userPassword"},"Password"),o.a.createElement(Ce.a,{type:"password",name:"password",id:"userPassword",innerRef:e=>{this.passwordInput=e},value:this.state.password,onChange:this.handleChange,autoComplete:"true"}))),o.a.createElement(ge.a,{sm:"12",md:"6"},o.a.createElement(Se.a,null,o.a.createElement(Oe.a,{for:"userRepeatPassword"},"Repeat Password"),o.a.createElement(Ce.a,{type:"password",name:"repeatPassword",id:"userRepeatPassword",innerRef:e=>{this.repeatPasswordInput=e},value:this.state.repeatPassword,onChange:this.handleChange,autoComplete:"true"})))),o.a.createElement(Se.a,null,o.a.createElement(Oe.a,{for:"Email"},"Email"),o.a.createElement(Ce.a,{type:"email",name:"email",id:"Email",innerRef:e=>{this.emailInput=e},value:this.state.email,onChange:this.handleChange})),o.a.createElement(he.a,null,o.a.createElement(ge.a,{sm:"12",md:"6"},o.a.createElement(Se.a,null,o.a.createElement(Oe.a,{for:"name"},"Name"),o.a.createElement(Ce.a,{type:"text",name:"name",id:"name",innerRef:e=>{this.nameInput=e},value:this.state.name,onChange:this.handleChange}))),o.a.createElement(ge.a,{sm:"12",md:"6"},o.a.createElement(Se.a,null,o.a.createElement(Oe.a,{for:"lastName"},"Last Name"),o.a.createElement(Ce.a,{type:"text",name:"lastname",id:"lastName",innerRef:e=>{this.lastnameInput=e},value:this.state.lastname,onChange:this.handleChange})))),o.a.createElement(xe.a,{className:"mt-3",size:"lg",block:!0},"Sign Up")))),o.a.createElement("p",{className:"text-right mt-3"},o.a.createElement("em",null,"Already have an account?"," ",o.a.createElement(de.a,{to:"/signin",replace:!0},"Sign In"))))))}}const ke=Object(i.connect)()(Te);class je extends r.Component{componentDidMount(){(0,this.props.dispatch)(H.signout())}render(){return null}}const Ae=Object(i.connect)()(je);var Pe=a(46),Re=a(4),Ie=a(5),De=a(104),Be=a(216),Ue=a(215),Fe=a(202),ze=a(203),Le=a(65),We=a.n(Le),Me=a(64),Ke=a.n(Me);const He=Object($.a)(e=>({root:{boxShadow:"none",background:"#fff"},flexGrow:{flexGrow:1},NavButton:{borderRadius:"15px",padding:"10px 20px",marginLeft:"20px",marginRight:"20px",color:"#2BB38B"},logo:{height:55,width:209},logo_small:{height:55},NavAll:{marginTop:e.spacing(2)},NavList:{textAlign:"center"},NavPersonalConfig:{display:"flex",justifyContent:"flex-end",color:"#bdbdbd"},NavAlert:{color:"#DAD7D6",paddingTop:"5px","&:hover":{background:"none",color:"#2BB38B"}},NavAlertBadge:{},NavName:{marginTop:"10px",marginLeft:"5px",color:"#888888",fontWeight:"bold",cursor:"pointer",height:"35px"},paper:{marginRight:e.spacing(2)},badge:{background:"blue"},navMenuItem:{color:"#333333 !important"},removeOver:{"&:hover":{background:"none",cursor:"auto"}},progress:{position:"absolute",top:"70px",left:"5px"}})),Ge=Object(Ie.a)({paper:{border:"1px solid #d3d4d5"}})(e=>o.a.createElement(De.a,Object.assign({elevation:0,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},e))),qe=Object(Ie.a)(e=>({root:{}}))(Ue.a);function Ve(){const e=He(),t=o.a.useState(null),a=Object(Pe.a)(t,2),n=a[0],r=a[1],s=e=>{r(e.currentTarget)},i=()=>{r(null)};return o.a.createElement(o.a.Fragment,null,o.a.createElement(Be.a,{"aria-controls":"customized-menu","aria-haspopup":"true",color:"primary",onClick:s},"G"),o.a.createElement(ne.a,{className:e.NavName,"aria-controls":"simple-menu","aria-haspopup":"true",onClick:s},"Guest"),o.a.createElement(Ge,{id:"customized-menu",anchorEl:n,keepMounted:!0,open:Boolean(n),onClose:i},o.a.createElement(Ue.a,{onClick:i},o.a.createElement(J.a,{container:!0,spacing:2},o.a.createElement(J.a,{item:!0},o.a.createElement(Be.a,null,"G")),o.a.createElement(J.a,{item:!0},o.a.createElement(ne.a,{variant:"h6"},"Guest")))),o.a.createElement(de.b,{to:"/account",className:e.navMenuItem},o.a.createElement(qe,null,o.a.createElement(Fe.a,null,o.a.createElement(Ke.a,{fontSize:"small"})),o.a.createElement(ze.a,{primary:"Account"}))),o.a.createElement(de.b,{to:"/signout",className:e.navMenuItem},o.a.createElement(qe,null,o.a.createElement(Fe.a,null,o.a.createElement(We.a,{fontSize:"small"})),o.a.createElement(ze.a,{primary:"Logout"})))))}a(144);const Je=Object($.a)(e=>({root:{background:"#fff",zIndex:1,"&:hover":{backgroundColor:"#fafafa"}},overFlowText:{textOverflow:"ellipsis",overflow:"hidden"}}));var Xe=e=>{const t=Je(),a=new Date(e.created).toUTCString().toString("yyyy-mm-dd, h:MM:ss ");return o.a.createElement(Ue.a,{onClick:e.handleClose,key:e.key,className:t.root},o.a.createElement(J.a,{container:!0,spacing:1},o.a.createElement(J.a,{item:!0,xs:9,className:t.overFlowText},o.a.createElement(ne.a,{variant:"caption"},a),o.a.createElement(ne.a,{variant:"h6",style:{color:e.read?"#888888":""}},e.title," "),o.a.createElement(ne.a,{variant:"subtitle1"},e.scene_name),o.a.createElement(ne.a,{variant:"subtitle1"},e.project_name)),o.a.createElement(J.a,{item:!0,xs:3},o.a.createElement(Be.a,{variant:"rounded",alt:"title",src:e.img}))))},Qe=a(214),Ye=a(204),$e=a(205),Ze=a(206),et=a(71),tt=a.n(et),at=a(95),nt=a.n(at),rt=a(94),ot=a.n(rt);var st=()=>{const e=He(),t=(Object(i.useDispatch)(),o.a.useState(!0)),a=Object(Pe.a)(t,2),n=a[0],s=a[1],c=Object(i.useSelector)(e=>e.alerts.sidebar);Object(r.useEffect)(()=>{!n&&c||(s(!1),console.log("%c useEffect","background:red; color: #adadad;"))},[c]);const l=()=>{},m=o.a.useState(null),u=Object(Pe.a)(m,2),d=u[0],p=u[1],h=()=>{p(null)},g=()=>{};return o.a.createElement(o.a.Fragment,null,o.a.createElement($e.a,{color:"inherit",className:e.NavAlert,"aria-controls":"simple-menu","aria-haspopup":"true",onClick:e=>{g(),p(e.currentTarget)}},o.a.createElement(Ze.a,{badgeContent:c.unread,color:"secondary",className:Object(Re.a)(e.NavAlertBadge,"badgeRef")},o.a.createElement(tt.a,{style:{fontSize:30}}))),o.a.createElement(De.a,{id:"menu-appbar",anchorEl:d,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},open:Boolean(d),onClose:h},o.a.createElement(Ue.a,{className:e.removeOver},o.a.createElement(J.a,{container:!0,direction:"row",justify:"flex-end",alignItems:"center"},o.a.createElement(J.a,{item:!0},o.a.createElement(Qe.a,{title:"Mark All as Read"},o.a.createElement(de.b,{to:"#",key:"markAll",onClick:l,style:{marginRight:"15px"}},o.a.createElement(ot.a,null))),o.a.createElement(Qe.a,{title:"Show All"},o.a.createElement(de.b,{to:"/alerts",key:"alerts",as:de.a},o.a.createElement(nt.a,null)))))),c.data.map((e,t)=>o.a.createElement(Xe,Object.assign({key:t},e,{handleClose:h}))),o.a.createElement(Ue.a,{className:e.progress},o.a.createElement(Ye.a,{size:25}))))},it=a(207),ct=a(208),lt=a(212),mt=a(101),ut=a.n(mt),dt=a(98),pt=a.n(dt),ht=a(99),gt=a.n(ht),Et=a(100),ft=a.n(Et),bt=a(96),vt=a.n(bt),wt=a(97),St=a.n(wt);const Ot=[{path:"/dashboard",name:"Dashboard",icon:o.a.createElement(pt.a,{style:{fontSize:30}})},{path:"/projects",name:"Projects",icon:o.a.createElement(gt.a,{style:{fontSize:30}})},{path:"/market",name:"Market",icon:o.a.createElement(ft.a,{style:{fontSize:30}})}],Ct=Object(i.connect)()(()=>{const e=He(),t=(window.location.pathname.replace(/\//g,""),o.a.useState(null)),a=Object(Pe.a)(t,2),n=a[0],r=a[1],s=Boolean(n),i=o.a.createElement(De.a,{anchorEl:n,anchorOrigin:{vertical:"top",horizontal:"right"},id:"primary-search-account-menu-mobile",keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:s,onClose:()=>{r(null)}},Ot.map((t,a)=>o.a.createElement(Ue.a,{key:a},o.a.createElement(de.b,{to:t.path}," ",o.a.createElement($e.a,{className:e.NavButton,color:"primary"},t.icon," ",t.name)))),o.a.createElement(Ue.a,{key:"account"},o.a.createElement(de.b,{to:"/account"}," ",o.a.createElement($e.a,{className:e.NavButton,color:"primary"},o.a.createElement(Ke.a,{style:{fontSize:30}})," Account"))),o.a.createElement(Ue.a,{key:"logout"},o.a.createElement(de.b,{to:"/signout"}," ",o.a.createElement($e.a,{className:e.NavButton,color:"primary"},o.a.createElement(We.a,{style:{fontSize:30}})," Logout"))));return o.a.createElement(it.a,{className:Object(Re.a)(e.root)},o.a.createElement(ct.a,null,o.a.createElement(J.a,{container:!0,className:e.NavAll},o.a.createElement(J.a,{item:!0,xs:12,sm:2},o.a.createElement(de.b,{to:"/projects"},o.a.createElement(lt.a,{smDown:!0},o.a.createElement("img",{alt:"Logo",src:vt.a,className:e.logo})),o.a.createElement(lt.a,{mdUp:!0},o.a.createElement("img",{alt:"Logo",src:St.a,className:e.logo_small})))),o.a.createElement(J.a,{item:!0,xs:12,sm:8,className:e.NavList},o.a.createElement("div",{className:e.flexGrow}),o.a.createElement(lt.a,{smDown:!0},Ot.map((t,a)=>o.a.createElement(Qe.a,{title:t.name,key:a},o.a.createElement(de.b,{to:t.path,key:a},o.a.createElement($e.a,{className:e.NavButton,color:"primary"},t.icon)))))),o.a.createElement(J.a,{item:!0,xs:12,sm:2,className:e.NavPersonalConfig},o.a.createElement(lt.a,{smDown:!0},o.a.createElement(Ve,null)))),o.a.createElement(lt.a,{mdUp:!0},o.a.createElement(Be.a,null,"CM")),o.a.createElement(st,null),o.a.createElement(lt.a,{mdUp:!0},o.a.createElement($e.a,{"aria-controls":"primary-search-account-menu-mobile","aria-label":"show more","aria-haspopup":"true",color:"primary",onClick:e=>{console.log("event.currentTarget",e.currentTarget),r(e.currentTarget)}},o.a.createElement(ut.a,null))),i))});a(147);class xt extends r.Component{shouldComponentUpdate(e,t){return!1}render(){return o.a.createElement(o.a.Fragment,null,"Cesar")}}class _t extends r.Component{constructor(e){super(e);const t=this.props,a=t.user,n=t.history,r=t.dispatch,o=n.location.pathname;console.debug("[CApp] fn=constructor, window.location.pathname=",o),a.isAuthed?"/signin"!==o&&"/register"!==o||"/"!==o&&n.replace("/"):"/signin"!==o&&n.replace("/signin"),n.listen(()=>{r(f.clear())})}shouldComponentUpdate(e){const t=e.location!==this.props.location;return console.debug("[CApp] fn=shouldComponentUpdate, locationChanged=".concat(t,", nextProps.location=").concat(e.location.pathname,", this.props.location=").concat(this.props.location.pathname)),t||e.notifications.length!==this.props.notifications.length}render(){console.debug("[CApp] fn=render");const e=this.props,t=e.notifications,a=e.user;return o.a.createElement(o.a.Fragment,null,a.isAuthed&&o.a.createElement(Ct,this.props),o.a.createElement(E.a,{notifications:t,className:"notifications-lb"}),o.a.createElement(q.a,{maxWidth:"xl"},o.a.createElement(V.a,{pt:8},this.props.children)))}}const yt=Object(h.f)(Object(i.connect)((function(e){return{notifications:e.notifications,user:e.user,loadingBar:e.loadingBar}}))(_t));var Nt=a(25),Tt=a(102),kt=a(82),jt=a(75),At=a(103),Pt=a.n(At);let Rt={isAuthed:!1};try{P.isLogin()&&(Rt=Object(n.a)({isAuthed:!0},P.getLoggedUser()))}catch(Jt){console.debug("[USER_REDUCER] err=",Jt)}function It(e=Rt,t){switch(t.type){case y:return Object(n.a)({isAuthed:!0},t.user);case N:case T:return{isAuthed:!1};default:return e}}const Dt=[Object(kt.a)(A),Tt.a];const Bt={key:"root",storage:Pt.a},Ut=(Ft=A,Object(Nt.c)({router:Object(c.b)(Ft),notifications:g.reducer,loadingBar:G.loadingBarReducer,user:It}));var Ft;const zt=Object(jt.a)(Bt,Ut),Lt=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Nt.d,Wt=Object(Nt.e)(zt,Lt(Object(Nt.a)(...Dt))),Mt=Object(jt.b)(Wt);class Kt extends r.Component{shouldComponentUpdate(e,t){return!1}render(){return o.a.createElement("div",{className:"content Dashboard"},o.a.createElement(xt,null))}}const Ht=[{name:"Register",path:"/register",component:ke},{name:"SignIn",path:"/signin",component:ue},{name:"SignOut",path:"/signout",component:Ae},{name:"Dashboard",path:"/dashboard",component:function(e,t={}){return function(a){var n,s;return s=n=class extends r.Component{render(){const n=t.unauthorized,r=this.context,s=r.user,i=r.authorize;return s&&s.isAuthed&&i(e,s)?o.a.createElement(a,this.props):n||null}},n.contextTypes={user:u.a.object,authorize:u.a.func,loggedOutRole:u.a.oneOfType([u.a.string,u.a.symbol])},s}}(["user"],{unauthorized:o.a.createElement("div",null,"403")})(Kt),exact:!0,needAuth:!0}];var Gt=o.a.createElement(h.c,null,Ht.map((e,t)=>o.a.createElement(h.a,{key:t,exact:e.exact,strict:e.strict,path:e.path,component:e.component})),o.a.createElement(h.a,{render:()=>"Path not found"}));const qt=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Vt(e){navigator.serviceWorker.register(e).then(e=>{e.onupdatefound=()=>{const t=e.installing;t.onstatechange=()=>{"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(e=>{console.error("Error during service worker registration:",e)})}U.setup(Object(n.a)({},F.apiGateway.server));Object(s.render)(o.a.createElement(i.Provider,{store:Wt},o.a.createElement(l.a,{loading:null,persistor:Mt},o.a.createElement(p,{authorize:(e,t)=>e.some(e=>t.role===e)},o.a.createElement(c.a,{history:A},o.a.createElement(yt,null,Gt))))),document.querySelector("#root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",()=>{const e="".concat("","/service-worker.js");qt?(!function(e){fetch(e).then(t=>{404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(e=>{e.unregister().then(()=>{window.location.reload()})}):Vt(e)}).catch(()=>{console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(()=>{console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):Vt(e)})}}()},86:function(e,t,a){e.exports=a.p+"static/media/fondo_login.2edd36ae.png"},90:function(e,t,a){e.exports=a.p+"static/media/video_login.6aa92b25.gif"},91:function(e,t,a){e.exports=a.p+"static/media/logo_login.bc4c9aec.svg"},92:function(e,t,a){e.exports=a.p+"static/media/logo-light.7dd2887f.svg"},96:function(e,t,a){e.exports=a.p+"static/media/logo.72dc0805.svg"},97:function(e,t,a){e.exports=a.p+"static/media/logo_small.69def124.svg"}},[[117,1,2]]]);
//# sourceMappingURL=main.2c362eb0.chunk.js.map